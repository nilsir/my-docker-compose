version: '3.1'
services:
  rabbitmq:
    restart: always
    image: rabbitmq:management
    container_name: rabbitmq
    ports:
      - ${RABBITMQ_PORT:-5672}:5672
      - ${RABBITMQ_UI_PORT:-15672}:15672
    environment:
      TZ: Asia/Shanghai
      RABBITMQ_DEFAULT_USER: ${RABBITMQ_USER:-nilsir}
      RABBITMQ_DEFAULT_PASS: ${RABBITMQ_PASSWORD:-nilsir}
    volumes:
      - ./data:/var/lib/rabbitmq
      # - ./conf:/etc/rabbitmq
    networks:
      - rabbitmq-net
networks:
    rabbitmq-net:
        external: true
